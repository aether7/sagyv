{% extends "panel_control.html" %}
{% load static %}
{% block content %}

<div id="mensaje" class="center alert" style="display:none"></div>

<div class="panel panel-default">
	<div class="panel-heading">Bodega</div>

	<table class="table center">
		<tr>
			<td>codigo</td>
			<td>Peso</td>
			<td>Tipo</td>
			<td>Stock</td>
            <td>Precio actual</td>
			<td>acciones</td>
		</tr>
        {% for producto in productos  %}
        <tr>
            <td>{{ producto.codigo }}</td>
            <td>{{ producto.peso }} Kilos</td>
            <td>{{ producto.tipo_producto.nombre }}</td>
            <td id="stock_{{ producto.id }}">{{ producto.stock }}</td>
            <td>$ {{ producto.get_precio_producto }}</td>
            <td>
                <button type="button" class="btn btn-xs" data-toggle="modal"
                    onclick="App.bodegaController.showModal({{ producto.id }}, 1);">
                    <span class="glyphicon glyphicon-plus" title="agregar stock"></span>
                </button>

                <button type="button" class="btn btn-xs" data-toggle="modal"
                    onclick="App.bodegaController.showModal({{ producto.id }}, 2);">
                    <span class="glyphicon glyphicon-minus" title="retirar stock"></span>
                </button>

                 <button type="button" class="btn btn-xs" data-toggle="modal">
                    <span class="glyphicon glyphicon-usd" title="actualizar precio"></span>
                </button>
            </td>
        </tr>
        {% endfor %}
	</table>
</div>

{% include "components/modal_bodega.html" with modo="add"  %}



{% endblock %}
{% block js %}
<script src="{% static 'js/controllers/bodega.js' %}"></script>
<script>
    App.bodegaController = new App.Controllers.Bodega();
    App.bodegaController.init();
</script>
{% endblock %}
