{% extends "panel_control.html" %}
{% load static %}
{% block css %}
<style>
    i[data-accion="eliminar"]{
        cursor: pointer;
    }

    .btn-productos{
        height: 71px;
        position: relative;
    }

    .btn-productos #btn_agregar{
        bottom: 11px;
        position: absolute;
    }

    .btn-accion{
        margin: 1em;
    }

</style>
{% endblock %}

{% block content %}

<div id="mensaje" class="center alert" style="display:none"></div>

<ul class="nav nav-tabs" role="tablist" id="myTab">
    <li class="active"><a href="#bodega" role="tab" data-toggle="tab">Bodega</a></li>
    <li><a href="#transito" role="tab" data-toggle="tab">En transito</a></li>
    <li><a href="#consolidado" role="tab" data-toggle="tab">Consolidado</a></li>
</ul>

<div class="tab-content">
    <div class="tab-pane active" id="bodega">
        <button id="btn_guia_despacho" class="btn btn-primary">Cargar Vehiculo</button>
        <button id="btn_guia_cargar_producto" class="btn btn-primary">Cargar Productos</button>
        {% include "bodega/components/productos_bodega.html" %}
    </div>

    <div class="tab-pane" id="transito">
        {% include "bodega/components/productos_bodega_transito.html" %}
    </div>

    <div class="tab-pane" id="consolidado">
        {% include "bodega/components/consolidados.html" %}
    </div>
</div>

{% include "bodega/components/modal_guia_despacho.html" %}
{% include "bodega/components/modal_ver_detalle.html" %}
{% include "bodega/components/modal_guia_carga_producto.html" %}

{% endblock %}

{% block js %}
<script src="{% static 'js/vendor/handlebars.min.js' %}"></script>
<script src="{% static 'js/common_functions.js' %}"></script>
<script src="{% static 'js/controllers/bodega.js' %}"></script>
<script id="tpl_nuevo_producto" type="text/x-template">
    {% include "bodega/components/tpl_nuevo_producto.html" %}
</script>

<script id="tpl_ver_detalle" type="text/x-template">
    {% include "bodega/components/tpl_ver_detalle.html" %}
</script>

<script id="tpl_carga_producto" type="text/x-template">
    {% include "bodega/components/tpl_carga_producto.html" %}
</script>

<script>
    App.urls.set("bodega:obtener_vehiculos_por_producto", "{% url 'bodega:obtener_vehiculos_por_producto' %}");

    App.bodegaController = new App.Controllers.Bodega();
    App.bodegaController.init();
</script>
{% endblock %}
