{% extends "panel_control.html" %}
{% load static %}
{% block css %}
<style>
    i[data-accion="eliminar"]{
        cursor: pointer;
    }

    .btn-productos{
        height: 71px;
        position: relative;
    }

    .btn-productos #btn_agregar{
        bottom: 11px;
        position: absolute;
    }

</style>
{% endblock %}

{% block content %}

<div id="mensaje" class="center alert" style="display:none"></div>

<ul class="nav nav-tabs" role="tablist" id="myTab">
    <li class="active"><a href="#bodega" role="tab" data-toggle="tab">Bodega</a></li>
    <li><a href="#transito" role="tab" data-toggle="tab">En transito</a></li>
    <li><a href="#consolidado" role="tab" data-toggle="tab">Consolidado</a></li>
</ul>

<div class="tab-content">
    <div class="tab-pane active" id="bodega">
        <button id="btn_guia_despacho" class="btn btn-primary">Crear nueva gu√≠a</button>
        {% include "bodega/components/productos_bodega.html" %}
    </div>

    <div class="tab-pane" id="transito">
        {% include "bodega/components/productos_bodega_transito.html" %}
    </div>

    <div class="tab-pane" id="consolidado">
        {% include "bodega/components/consolidados.html" %}
    </div>
</div>

{% include "bodega/components/modal_guia_despacho.html" %}

{% endblock %}

{% block js %}
<script src="{% static 'js/vendor/handlebars.min.js' %}"></script>
<script src="{% static 'js/common_functions.js' %}"></script>
<script src="{% static 'js/controllers/bodega.js' %}"></script>
<script id="tpl_nuevo_producto" type="text/x-template">
    {% verbatim %}
    <tr data-id="{{ id }}" data-codigo="{{ codigo }}" data-cantidad="{{ cantidad }}">
        <th>{{ codigo }}</th>
        <th>{{ cantidad }}</th>
        <th>
            <i data-accion="eliminar" class="glyphicon glyphicon-remove"></i>
        </th>
    </tr>
    {% endverbatim %}
</script>
<script>
    App.bodegaController = new App.Controllers.Bodega();
    App.bodegaController.init();
</script>
{% endblock %}
